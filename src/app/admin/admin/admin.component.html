<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;600&display=swap" rel="stylesheet">
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/wow/1.1.2/wow.min.js"></script>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
<script>
  // Add a script to initialize wow.js after the DOM is loaded
  document.addEventListener("DOMContentLoaded", function() {
    new WOW().init();
  });
</script>

<div class="container">
  <div class="pt-5">

    <div class="alert alert-danger" *ngIf="errorMessage">
      {{errorMessage}}
    </div>

    <div class="card ">
      <div class="card-header wow animate__animated animate__fadeInUp">
        <div class="row">

          <div class="col-6">
            <h3>Admin Panel</h3>
          </div>
          <div class="col-6 text-end">
            <div class="input-group mb-3">
              <input type="date" name="date" [(ngModel)]="tarih" >
              <button (click)="search()"> search </button>
            </div>
          </div>
        </div>
      </div>
      <div class="card-body wow animate__animated animate__fadeInUp">
          <table class="table table-striped table-bordered table-hover table-custom">
            <thead>
              <tr>
                <th scope="col">#</th>
                <th scope="col">    </th>
                <th scope="col">Kart No</th>
                <th scope="col">Ä°sim</th>
                <th scope="col">Kart PIN</th>
                <th scope="col">Mail</th>
                <th scope="col">Tarih</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let item of cardpassList; index as ind" [style.background-color]="selectedCardPass[ind] ? 'lightgreen' : 'initial'">
                <td scope="row">{{ind + 1}}</td>
                <td>
                  <div class="form-check form-switch">
                    <input class="form-check-input" type="checkbox" [(ngModel)]="selectedCardPass[ind]" id="switch{{ind}}">
                    <label class="form-check-label" for="switch{{ind}}"></label></div></td>
                <td>{{item.kartNo}}</td>
                <td>{{item.name}}</td>
                <td>{{item.pin}}</td>
                <td>{{item.mail}}</td>
                <td>{{item.zaman | date:'dd.MM.yyyy HH:mm'}}</td>
                <td>
                </td>
              </tr>
            </tbody>
          </table>
          <br><br>
          <div>
            <h3>Selected Latecomers</h3>
            <div *ngFor="let latecomer of selectedLatecomers">
              <h2>{{ latecomer.mail }}</h2>
            </div>
            <button (click)="sendMails()">send mails</button>
          </div>
        </div>
      </div>
  </div>
</div>
